(()=>{var e={942:(e,t)=>{var l;!function(){"use strict";var a={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var l=arguments[t];l&&(e=n(e,i(l)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var l in e)a.call(e,l)&&e[l]&&(t=n(t,l));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(l=function(){return o}.apply(t,[]))||(e.exports=l)}()}},t={};function l(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,l),i.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=JSON.parse('{"name":"hizzle-forms/radio","icon":"editor-justify"}'),t=window.React,a=window.wp.blockEditor,o=window.wp.element;var i=l(942),n=l.n(i);const r=window.lodash,s=window.wp.i18n,m=window.wp.components,c=({attributes:e,hidePlaceholder:l,hasOptions:o,setAttributes:i})=>{const n=e.name&&e.name.length>0;if(!o&&l&&!n)return null;const r=e.options?e.options.join("\n"):"";return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(m.PanelBody,{title:(0,s.__)("General","hizzle-forms")},(0,t.createElement)(m.TextControl,{label:(0,s.__)("Merge Tag","hizzle-forms"),value:`{${e.name}}`,onClick:e=>e.target.select(),help:(0,s.__)("Use this merge tag to display this field's value in your emails, response message and redirect URL.","hizzle-forms"),readOnly:!0}),o&&(0,t.createElement)(m.TextareaControl,{label:(0,s.__)("Options","hizzle-forms"),value:r,onChange:e=>{i({options:e.split("\n")})},help:(0,s.__)('Enter each option on a new line. For example, "Option 1" and "Option 2" will be displayed as a dropdown with two options.',"hizzle-forms")}),!l&&(0,t.createElement)(m.TextControl,{label:(0,s.__)("Placeholder text","hizzle-forms"),value:e.placeholder||"",onChange:e=>i({placeholder:e}),help:(0,s.__)("Show visitors an example of the type of content expected. Otherwise, leave blank.","hizzle-forms")}))))},d={name:"required",label:(0,s.__)("Required","hizzle-forms"),checkboxLabel:(0,s.__)("Is this field required?","hizzle-forms"),defaultMessage:(0,s.__)("This field is required.","hizzle-forms"),fieldTypes:["all"],edit:[]},h=(0,s.__)("Maximum date","hizzle-forms"),u={name:"maxdate",label:h,checkboxLabel:(0,s.__)("Set a maximum date?","hizzle-forms"),defaultMessage:(0,s.__)("The latest date allowed is {threshold}.","hizzle-forms"),fieldTypes:["date"],edit:[{name:"threshold",type:"date",label:h}]},f=(0,s.__)("Minimum date","hizzle-forms"),p={name:"mindate",label:f,checkboxLabel:(0,s.__)("Set a minimum date?","hizzle-forms"),defaultMessage:(0,s.__)("The earliest date allowed is {threshold}.","hizzle-forms"),fieldTypes:["date"],edit:[{name:"threshold",type:"date",label:f}]},z=(0,s.__)("Maximum number","hizzle-forms"),b={name:"maxnumber",label:z,checkboxLabel:(0,s.__)("Set a maximum number?","hizzle-forms"),defaultMessage:(0,s.__)("The value must be at most {threshold}.","hizzle-forms"),fieldTypes:["number"],edit:[{name:"threshold",type:"number",label:z}]},_=(0,s.__)("Minimum number","hizzle-forms"),g={name:"minnumber",label:_,checkboxLabel:(0,s.__)("Set a minimum number?","hizzle-forms"),defaultMessage:(0,s.__)("The value must be at least {threshold}.","hizzle-forms"),fieldTypes:["number"],edit:[{name:"threshold",type:"number",label:_}]},y=(0,s.__)("Maximum items","hizzle-forms"),x={name:"maxitems",label:y,checkboxLabel:(0,s.__)("Set a maximum number of selectable items?","hizzle-forms"),defaultMessage:(0,s.__)("You must select at most {threshold} items.","hizzle-forms"),fieldTypes:["array"],edit:[{name:"threshold",type:"number",label:y}]},v=(0,s.__)("Minimum items","hizzle-forms"),E={name:"minitems",label:v,checkboxLabel:(0,s.__)("Set a minimum number of selectable items?","hizzle-forms"),defaultMessage:(0,s.__)("You must select at least {threshold} items.","hizzle-forms"),fieldTypes:["array"],edit:[{name:"threshold",type:"number",label:v}]},k=(0,s.__)("Maximum length","hizzle-forms"),T={name:"maxlength",label:k,checkboxLabel:(0,s.__)("Set a maximum length?","hizzle-forms"),defaultMessage:(0,s.__)("The value must be at most {threshold} characters long.","hizzle-forms"),fieldTypes:["text"],edit:[{name:"threshold",type:"number",label:k}]},w=(0,s.__)("Minimum length","hizzle-forms"),C=[d,p,u,g,b,E,x,{name:"minlength",label:w,checkboxLabel:(0,s.__)("Set a minimum length?","hizzle-forms"),defaultMessage:(0,s.__)("The value must be at least {threshold} characters long.","hizzle-forms"),fieldTypes:["text"],edit:[{name:"threshold",type:"number",label:w}]},T];function R({attributes:e,setAttributes:l,fieldType:a}){const i=(0,o.useMemo)((()=>C.filter((e=>e.fieldTypes.includes(a)||e.fieldTypes.includes("all")))),[a]),n=e.validation||[];if((0,o.useEffect)((()=>{const e=[],t=!1;n.forEach((l=>{i.some((e=>e.name===l.name))?e.push(l):t=!0})),t&&l({validation:e})}),[i]),!i.length)return null;const r=e=>{l({validation:e})};return(0,t.createElement)(t.Fragment,null,i.map((e=>(0,t.createElement)(S,{key:e.name,...e,setRules:r,addedRules:n}))))}const S=({label:e,checkboxLabel:l,name:i,defaultMessage:n,edit:r,setRules:c,addedRules:d})=>{const h=d.some((e=>e.name===i)),[u,f]=(0,o.useState)(h?d.find((e=>e.name===i)):{name:i}),p=(e,t)=>{const l={...u};if(l[e]=t,f(l),h){const e=[...d],t=e.findIndex((e=>e.name===i));e[t]=l,c(e)}};return(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(m.PanelBody,{title:e,initialOpen:!1},(0,t.createElement)(m.ToggleControl,{label:l,checked:h,onChange:e=>{const t=[...d];if(e)h||t.push(u);else{const e=t.findIndex((e=>e.name===i));t.splice(e,1)}c(t)}}),h&&(0,t.createElement)(t.Fragment,null,r.map(((e,l)=>(0,t.createElement)(A,{key:l,edit:e,rule:u,onChange:t=>p(e.name,t)}))),(0,t.createElement)(A,{edit:{name:"errorMessage",type:"text",label:(0,s.__)("Error message","hizzle-forms"),help:(0,s.__)("Optional. The error message to display when this rule fails.","hizzle-forms"),placeholder:n},rule:u,onChange:e=>p("errorMessage",e)}))))},A=({edit:e,rule:l,onChange:a})=>{const{type:o,name:i,...n}=e;switch(o){case"toggle":return(0,t.createElement)(m.ToggleControl,{...n,checked:!!l[i]&&l[i],onChange:a});case"select":return(0,t.createElement)(m.SelectControl,{...n,value:l[i]?l[i]:"",onChange:a});default:return(0,t.createElement)(m.TextControl,{...n,value:l[i]?l[i]:"",onChange:a})}};function M({attributes:e,setAttributes:l,disableLabel:o,disableHelpText:i,children:m,className:d,isSelected:h,fieldType:u,...f}){const p=!i&&(h||!(0,r.isEmpty)(e.help)),z=!o&&(h||!(0,r.isEmpty)(e.label));return(0,t.createElement)("div",{...(0,a.useBlockProps)({className:n()("hizzle-forms-field",d)})},z&&(0,t.createElement)(a.RichText,{tagName:"label",value:e.label,className:"hizzle-forms__field-label",onChange:e=>{l({label:e})},placeholder:(0,s.__)("Add label…","hizzle-forms")}),m,p&&(0,t.createElement)(a.RichText,{tagName:"p",value:e.help,className:"hizzle-forms__field-help-text",onChange:e=>l({help:e}),placeholder:(0,s.__)("Add help text…","hizzle-forms")}),(0,t.createElement)(c,{setAttributes:l,attributes:e,...f}),(0,t.createElement)(R,{setAttributes:l,attributes:e,fieldType:u}))}const O=[["hizzle-forms/radio-option",{option:"First Option",selected:!0}],["hizzle-forms/radio-option",{option:"Second Option"}],["hizzle-forms/radio-option",{option:"Third Option"}]],N=({label:e,instanceID:l})=>e?(0,t.createElement)(a.RichText.Content,{tagName:"label",className:"hizzle-forms__field-label",htmlFor:`hizzle-forms-field-${l}`,value:e}):null,I=({help:e})=>e?(0,t.createElement)(a.RichText.Content,{tagName:"p",className:"hizzle-forms__field-help-text",value:e}):null;function B({attributes:e,children:l,className:o,customClass:i}){const r={className:n()("hizzle-forms-field",o,i),"data-instance-id":e.instanceID};Array.isArray(e.validation)&&e.validation.length>0&&(r["data-validation"]=JSON.stringify(e.validation));const s=a.useBlockProps.save(r);return(0,t.createElement)("div",{...s},(0,t.createElement)(N,{label:e.label,instanceID:e.instanceID}),l,(0,t.createElement)(I,{help:e.help}),(0,t.createElement)("div",{className:"hizzle-forms__field-error"}))}const L="#AA00FF",P=[{name:"hizzle-radio-input",isDefault:!0,title:(0,s.__)("Radio","hizzle-forms"),description:(0,s.__)("Add a radio select field to your form.","hizzle-forms"),keywords:[(0,s.__)("radio","hizzle-forms"),(0,s.__)("select","hizzle-forms")],category:"hizzle-forms",attributes:{isRadio:!0},icon:{src:"marker",foreground:L}},{name:"hizzle-checkbox-input",title:(0,s.__)("Multi Checkbox","hizzle-forms"),description:(0,s.__)("Add a checkbox select field to your form.","hizzle-forms"),keywords:[(0,s.__)("checkbox","hizzle-forms"),(0,s.__)("select","hizzle-forms")],category:"hizzle-forms",attributes:{isRadio:!1},icon:{src:"yes-alt",foreground:L}}];P.forEach((e=>{e.example={attributes:{label:(0,s.__)("Select an option","hizzle-forms"),validation:[{name:"required"}],help:(0,s.__)("This is a help text.","hizzle-forms"),isRadio:e.attributes.isRadio},innerBlocks:[{name:"hizzle-forms/radio-option",attributes:{option:"First Option",selected:!0}},{name:"hizzle-forms/radio-option",attributes:{option:"Second Option",selected:!0}},{name:"hizzle-forms/radio-option",attributes:{option:"Third Option",selected:!0}}]},e.isActive||(e.isActive=["isRadio"])}));const F=P,D=window.wp.blocks;function $(e,t){0!==e.indexOf("hizzle-forms/")&&(e="hizzle-forms/"+e),"string"==typeof t.icon&&(t.icon={src:t.icon,foreground:"#AA00FF"}),(0,D.registerBlockType)(e,t)}const j=window.wp.data;$("hizzle-forms/radio-option",{apiVersion:2,title:(0,s.__)("Radio Option","hizzle-forms"),icon:"marker",category:"hizzle-forms",parent:["hizzle-forms/radio"],attributes:{option:{type:"string",default:""},selected:{type:"boolean",default:!1},isRadio:{type:"boolean",default:!0},name:{type:"string",default:""}},supports:{anchor:!0,spacing:{margin:!0,padding:!0},reusable:!1},merge:(e,t)=>({...e,option:e.option+" "+t.option}),edit:({clientId:e,onReplace:l,onRemove:i,mergeBlocks:n,attributes:c,setAttributes:d})=>{const{name:h,isRadio:u}=(e=>(0,j.useSelect)((t=>{const l=t("core/block-editor");return l.getBlockAttributes((0,r.first)(l.getBlockParents(e,!0)))})))(e),f=u?"radio":"checkbox",p=(0,a.useBlockProps)({className:`hizzle-forms__${f}-option`});return(0,o.useEffect)((()=>{h!==c.name&&d({name:h})}),[h]),(0,o.useEffect)((()=>{u!==c.isRadio&&d({isRadio:u})}),[u]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.BlockControls,null,(0,t.createElement)(m.ToolbarGroup,null,(0,t.createElement)(m.ToolbarButton,{icon:"yes",title:(0,s.__)("Selected","hizzle-forms"),isActive:c.selected,onClick:()=>d({selected:!c.selected})}))),(0,t.createElement)("div",{...p},(0,t.createElement)("input",{type:f,checked:c.selected,readOnly:!0}),(0,t.createElement)(a.RichText,{tagName:"label",identifier:"option",value:c.option,onChange:e=>d({option:e}),placeholder:(0,s.__)("Add option…","hizzle-forms"),onSplit:(t,l)=>{const a={...c,option:t};l||(a.selected=!1);const o=(0,D.createBlock)("hizzle-forms/radio-option",a);return l&&(o.clientId=e),o},onMerge:n,onReplace:l,onRemove:i,preserveWhiteSpace:!1})))},save:({attributes:e})=>{const{option:l,selected:o,isRadio:i,name:n}=e,r=i?"radio":"checkbox",s=i?"":"[]",m=a.useBlockProps.save({className:`hizzle-forms__${r}-option`});return l?(0,t.createElement)("label",{...m},(0,t.createElement)("input",{type:r,name:`hizzle-forms[${n}]${s}`,value:l.replace(/(<([^>]+)>)/gi,""),checked:o}),(0,t.createElement)(a.RichText.Content,{tagName:"span",value:l})):null}});const{name:q,icon:G}=e;$(q,{icon:G,edit:({attributes:e,setAttributes:l,clientId:i,isSelected:n})=>{(0,o.useEffect)((()=>{e.instanceID||l({instanceID:i})}),[]);const r=function(e,t=""){if(!e)return t;let l=e.replace(/(<([^>]+)>)/gi,"");return l=e.replace(/[^a-z0-9]/gi,"_").toLowerCase(),l=l.replace(/_+/g,"_"),l=l.replace(/^_+|_+$/g,""),l||(l=t),l}(e.label,e.instanceID);(0,o.useEffect)((()=>{r!==e.name&&l({name:r})}),[r]);const s=e.isRadio?"other":"array";return(0,t.createElement)(M,{attributes:e,setAttributes:l,isSelected:n,fieldType:s,hidePlaceholder:!0},(0,t.createElement)("div",{className:"hizzle-forms__radio-options"},(0,t.createElement)(a.InnerBlocks,{allowedBlocks:["hizzle-forms/radio-option"],template:O})))},save:({attributes:e})=>{const l=e.instanceID||"";return(0,t.createElement)(B,{attributes:e},(0,t.createElement)("div",{className:"hizzle-forms__radio-options",id:`hizzle-forms-field-${l}`},(0,t.createElement)(a.InnerBlocks.Content,null)))},variations:F})})()})();