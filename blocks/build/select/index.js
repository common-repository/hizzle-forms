(()=>{var e={942:(e,t)=>{var l;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var l=arguments[t];l&&(e=s(e,r(l)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var l in e)a.call(e,l)&&e[l]&&(t=s(t,l));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(l=function(){return n}.apply(t,[]))||(e.exports=l)}()}},t={};function l(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,l),r.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=JSON.parse('{"name":"hizzle-forms/select","icon":"editor-ul"}'),t=window.React,a=window.wp.element,n=window.wp.i18n;var r=l(942),s=l.n(r);const i=window.lodash,o=window.wp.blockEditor,m=window.wp.components,c=({attributes:e,hidePlaceholder:l,hasOptions:a,setAttributes:r})=>{const s=e.name&&e.name.length>0;if(!a&&l&&!s)return null;const i=e.options?e.options.join("\n"):"";return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(m.PanelBody,{title:(0,n.__)("General","hizzle-forms")},(0,t.createElement)(m.TextControl,{label:(0,n.__)("Merge Tag","hizzle-forms"),value:`{${e.name}}`,onClick:e=>e.target.select(),help:(0,n.__)("Use this merge tag to display this field's value in your emails, response message and redirect URL.","hizzle-forms"),readOnly:!0}),a&&(0,t.createElement)(m.TextareaControl,{label:(0,n.__)("Options","hizzle-forms"),value:i,onChange:e=>{r({options:e.split("\n")})},help:(0,n.__)('Enter each option on a new line. For example, "Option 1" and "Option 2" will be displayed as a dropdown with two options.',"hizzle-forms")}),!l&&(0,t.createElement)(m.TextControl,{label:(0,n.__)("Placeholder text","hizzle-forms"),value:e.placeholder||"",onChange:e=>r({placeholder:e}),help:(0,n.__)("Show visitors an example of the type of content expected. Otherwise, leave blank.","hizzle-forms")}))))},h={name:"required",label:(0,n.__)("Required","hizzle-forms"),checkboxLabel:(0,n.__)("Is this field required?","hizzle-forms"),defaultMessage:(0,n.__)("This field is required.","hizzle-forms"),fieldTypes:["all"],edit:[]},d=(0,n.__)("Maximum date","hizzle-forms"),u={name:"maxdate",label:d,checkboxLabel:(0,n.__)("Set a maximum date?","hizzle-forms"),defaultMessage:(0,n.__)("The latest date allowed is {threshold}.","hizzle-forms"),fieldTypes:["date"],edit:[{name:"threshold",type:"date",label:d}]},f=(0,n.__)("Minimum date","hizzle-forms"),p={name:"mindate",label:f,checkboxLabel:(0,n.__)("Set a minimum date?","hizzle-forms"),defaultMessage:(0,n.__)("The earliest date allowed is {threshold}.","hizzle-forms"),fieldTypes:["date"],edit:[{name:"threshold",type:"date",label:f}]},b=(0,n.__)("Maximum number","hizzle-forms"),z={name:"maxnumber",label:b,checkboxLabel:(0,n.__)("Set a maximum number?","hizzle-forms"),defaultMessage:(0,n.__)("The value must be at most {threshold}.","hizzle-forms"),fieldTypes:["number"],edit:[{name:"threshold",type:"number",label:b}]},_=(0,n.__)("Minimum number","hizzle-forms"),g={name:"minnumber",label:_,checkboxLabel:(0,n.__)("Set a minimum number?","hizzle-forms"),defaultMessage:(0,n.__)("The value must be at least {threshold}.","hizzle-forms"),fieldTypes:["number"],edit:[{name:"threshold",type:"number",label:_}]},y=(0,n.__)("Maximum items","hizzle-forms"),v={name:"maxitems",label:y,checkboxLabel:(0,n.__)("Set a maximum number of selectable items?","hizzle-forms"),defaultMessage:(0,n.__)("You must select at most {threshold} items.","hizzle-forms"),fieldTypes:["array"],edit:[{name:"threshold",type:"number",label:y}]},x=(0,n.__)("Minimum items","hizzle-forms"),E={name:"minitems",label:x,checkboxLabel:(0,n.__)("Set a minimum number of selectable items?","hizzle-forms"),defaultMessage:(0,n.__)("You must select at least {threshold} items.","hizzle-forms"),fieldTypes:["array"],edit:[{name:"threshold",type:"number",label:x}]},T=(0,n.__)("Maximum length","hizzle-forms"),w={name:"maxlength",label:T,checkboxLabel:(0,n.__)("Set a maximum length?","hizzle-forms"),defaultMessage:(0,n.__)("The value must be at most {threshold} characters long.","hizzle-forms"),fieldTypes:["text"],edit:[{name:"threshold",type:"number",label:T}]},C=(0,n.__)("Minimum length","hizzle-forms"),k=[h,p,u,g,z,E,v,{name:"minlength",label:C,checkboxLabel:(0,n.__)("Set a minimum length?","hizzle-forms"),defaultMessage:(0,n.__)("The value must be at least {threshold} characters long.","hizzle-forms"),fieldTypes:["text"],edit:[{name:"threshold",type:"number",label:C}]},w];function M({attributes:e,setAttributes:l,fieldType:n}){const r=(0,a.useMemo)((()=>k.filter((e=>e.fieldTypes.includes(n)||e.fieldTypes.includes("all")))),[n]),s=e.validation||[];if((0,a.useEffect)((()=>{const e=[],t=!1;s.forEach((l=>{r.some((e=>e.name===l.name))?e.push(l):t=!0})),t&&l({validation:e})}),[r]),!r.length)return null;const i=e=>{l({validation:e})};return(0,t.createElement)(t.Fragment,null,r.map((e=>(0,t.createElement)(S,{key:e.name,...e,setRules:i,addedRules:s}))))}const S=({label:e,checkboxLabel:l,name:r,defaultMessage:s,edit:i,setRules:c,addedRules:h})=>{const d=h.some((e=>e.name===r)),[u,f]=(0,a.useState)(d?h.find((e=>e.name===r)):{name:r}),p=(e,t)=>{const l={...u};if(l[e]=t,f(l),d){const e=[...h],t=e.findIndex((e=>e.name===r));e[t]=l,c(e)}};return(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(m.PanelBody,{title:e,initialOpen:!1},(0,t.createElement)(m.ToggleControl,{label:l,checked:d,onChange:e=>{const t=[...h];if(e)d||t.push(u);else{const e=t.findIndex((e=>e.name===r));t.splice(e,1)}c(t)}}),d&&(0,t.createElement)(t.Fragment,null,i.map(((e,l)=>(0,t.createElement)(A,{key:l,edit:e,rule:u,onChange:t=>p(e.name,t)}))),(0,t.createElement)(A,{edit:{name:"errorMessage",type:"text",label:(0,n.__)("Error message","hizzle-forms"),help:(0,n.__)("Optional. The error message to display when this rule fails.","hizzle-forms"),placeholder:s},rule:u,onChange:e=>p("errorMessage",e)}))))},A=({edit:e,rule:l,onChange:a})=>{const{type:n,name:r,...s}=e;switch(n){case"toggle":return(0,t.createElement)(m.ToggleControl,{...s,checked:!!l[r]&&l[r],onChange:a});case"select":return(0,t.createElement)(m.SelectControl,{...s,value:l[r]?l[r]:"",onChange:a});default:return(0,t.createElement)(m.TextControl,{...s,value:l[r]?l[r]:"",onChange:a})}};function N({attributes:e,setAttributes:l,disableLabel:a,disableHelpText:r,children:m,className:h,isSelected:d,fieldType:u,...f}){const p=!r&&(d||!(0,i.isEmpty)(e.help)),b=!a&&(d||!(0,i.isEmpty)(e.label));return(0,t.createElement)("div",{...(0,o.useBlockProps)({className:s()("hizzle-forms-field",h)})},b&&(0,t.createElement)(o.RichText,{tagName:"label",value:e.label,className:"hizzle-forms__field-label",onChange:e=>{l({label:e})},placeholder:(0,n.__)("Add label…","hizzle-forms")}),m,p&&(0,t.createElement)(o.RichText,{tagName:"p",value:e.help,className:"hizzle-forms__field-help-text",onChange:e=>l({help:e}),placeholder:(0,n.__)("Add help text…","hizzle-forms")}),(0,t.createElement)(c,{setAttributes:l,attributes:e,...f}),(0,t.createElement)(M,{setAttributes:l,attributes:e,fieldType:u}))}const O=({label:e,instanceID:l})=>e?(0,t.createElement)(o.RichText.Content,{tagName:"label",className:"hizzle-forms__field-label",htmlFor:`hizzle-forms-field-${l}`,value:e}):null,I=({help:e})=>e?(0,t.createElement)(o.RichText.Content,{tagName:"p",className:"hizzle-forms__field-help-text",value:e}):null;function L({attributes:e,children:l,className:a,customClass:n}){const r={className:s()("hizzle-forms-field",a,n),"data-instance-id":e.instanceID};Array.isArray(e.validation)&&e.validation.length>0&&(r["data-validation"]=JSON.stringify(e.validation));const i=o.useBlockProps.save(r);return(0,t.createElement)("div",{...i},(0,t.createElement)(O,{label:e.label,instanceID:e.instanceID}),l,(0,t.createElement)(I,{help:e.help}),(0,t.createElement)("div",{className:"hizzle-forms__field-error"}))}const R=window.wp.blocks,{name:P,icon:D}=e;var F,j;j={icon:D,edit:({attributes:e,setAttributes:l,clientId:n,isSelected:r})=>{(0,a.useEffect)((()=>{e.instanceID||l({instanceID:n})}),[]);const s=function(e,t=""){if(!e)return t;let l=e.replace(/(<([^>]+)>)/gi,"");return l=e.replace(/[^a-z0-9]/gi,"_").toLowerCase(),l=l.replace(/_+/g,"_"),l=l.replace(/^_+|_+$/g,""),l||(l=t),l}(e.label,e.instanceID);(0,a.useEffect)((()=>{s!==e.name&&l({name:s})}),[s]);const i=Array.isArray(e.options)?e.options:[];return(0,t.createElement)(N,{attributes:e,setAttributes:l,isSelected:r,fieldType:"text",hasOptions:!0},(0,t.createElement)("select",{className:"hizzle-forms__field-select",value:e.value?e.value:"",onChange:e=>{l({value:e.target.value})}},e.placeholder&&(0,t.createElement)("option",{value:""},e.placeholder),i.map(((e,l)=>(0,t.createElement)("option",{value:e,key:l},e)))))},save:({attributes:e})=>{const l=e.instanceID||"",a=Array.isArray(e.options)?e.options:[];return(0,t.createElement)(L,{attributes:e},(0,t.createElement)("select",{id:`hizzle-forms-field-${l}`,className:"hizzle-forms__field-select",value:e.value?e.value:"",name:`hizzle-forms[${e.name}]`},e.placeholder&&(0,t.createElement)("option",{value:""},e.placeholder),a.map(((e,l)=>(0,t.createElement)("option",{value:e,key:l},e)))))}},0!==(F=P).indexOf("hizzle-forms/")&&(F="hizzle-forms/"+F),"string"==typeof j.icon&&(j.icon={src:j.icon,foreground:"#AA00FF"}),(0,R.registerBlockType)(F,j)})()})();